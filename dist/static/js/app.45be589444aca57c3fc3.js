webpackJsonp([15],{NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("7+uW"),a={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"loading"},[e("div",{staticClass:"loader"},[e("div",{staticClass:"loadingCir"},[e("i"),t._v(" "),e("i"),t._v(" "),e("i"),t._v(" "),e("i"),t._v(" "),e("i"),t._v(" "),e("i"),t._v(" "),e("i"),t._v(" "),e("i")])]),t._v(" "),e("p",{staticClass:"loadingText"},[t._v("加载中...")])])}]};var r={name:"app",data:function(){return{}},computed:{loadData:function(){return this.$store.state.common.showLoading}},components:{loading:e("VU/8")(null,a,!1,function(t){e("Vqh/")},"data-v-1a243312",null).exports}},i={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view"),this._v(" "),n("loading",{directives:[{name:"show",rawName:"v-show",value:this.loadData,expression:"loadData"}]})],1)},staticRenderFns:[]};var c=e("VU/8")(r,i,!1,function(t){e("uJ5k")},null,null).exports,u=e("/ocq");o.default.use(u.a);var s,l,d=[{path:"/",name:"首页",component:function(t){return Promise.all([e.e(0),e.e(1)]).then(function(){var n=[e("2NXm")];t.apply(null,n)}.bind(this)).catch(e.oe)}},{path:"/detail",name:"详情页",component:function(t){return Promise.all([e.e(0),e.e(2)]).then(function(){var n=[e("f2Us")];t.apply(null,n)}.bind(this)).catch(e.oe)}},{path:"/classify",name:"分类",redirect:"/classify/all",component:function(t){return Promise.all([e.e(0),e.e(4)]).then(function(){var n=[e("HR5j")];t.apply(null,n)}.bind(this)).catch(e.oe)},children:[{path:"/classify/:title",component:function(t){return e.e(6).then(function(){var n=[e("9CRq")];t.apply(null,n)}.bind(this)).catch(e.oe)}}]},{path:"/cart",name:"购物车",component:function(t){return Promise.all([e.e(0),e.e(13)]).then(function(){var n=[e("ltQH")];t.apply(null,n)}.bind(this)).catch(e.oe)}},{path:"/my",name:"我的",component:function(t){return e.e(3).then(function(){var n=[e("6Dws")];t.apply(null,n)}.bind(this)).catch(e.oe)},meta:{requiresAuth:!0}},{path:"/login",name:"登录",component:function(t){return Promise.all([e.e(0),e.e(7)]).then(function(){var n=[e("Luci")];t.apply(null,n)}.bind(this)).catch(e.oe)}},{path:"/pay",name:"支付",component:function(t){return Promise.all([e.e(0),e.e(10)]).then(function(){var n=[e("84dg")];t.apply(null,n)}.bind(this)).catch(e.oe)}},{path:"/paySuccess",name:"支付成功",component:function(t){return e.e(5).then(function(){var n=[e("rPWX")];t.apply(null,n)}.bind(this)).catch(e.oe)}},{path:"/orderDetail",name:"订单详情",component:function(t){return Promise.all([e.e(0),e.e(8)]).then(function(){var n=[e("e0CP")];t.apply(null,n)}.bind(this)).catch(e.oe)}},{path:"/Coupon",name:"我的卡券",component:function(t){return Promise.all([e.e(0),e.e(9)]).then(function(){var n=[e("sdPH")];t.apply(null,n)}.bind(this)).catch(e.oe)}},{path:"/setting",name:"设置中心",component:function(t){return Promise.all([e.e(0),e.e(12)]).then(function(){var n=[e("XiTZ")];t.apply(null,n)}.bind(this)).catch(e.oe)}},{path:"/address",name:"收货地址",component:function(t){return Promise.all([e.e(0),e.e(11)]).then(function(){var n=[e("sy9f")];t.apply(null,n)}.bind(this)).catch(e.oe)}}],p=new u.a({routes:d}),f=e("NYxO"),h=e("bOdI"),m=e.n(h),v={state:{showLoading:!1},mutations:m()({},"SET_LOADING",function(t,n){t.showLoading=n})},P=e("mvHQ"),y=e.n(P),_={state:{activePro:{},oldProList:[],productsNum:0,productsPay:0,payList:[],oldOrderData:{},oldOrderId:0,classifyIndex:0,classifyList:{}},mutations:(s={},m()(s,"SET_PRODUCT",function(t,n){t.activePro=n}),m()(s,"ADD_PRODUCT",function(t){var n=y()(t.activePro);t.oldProList.push(JSON.parse(n))}),m()(s,"DEL_PRODUCT",function(t,n){for(var e=0;e<t.oldProList.length;e++)if(t.oldProList[e].info.id==n.id&&t.oldProList[e].info.price==n.price){t.oldProList.splice(e,1);break}}),m()(s,"ADD_PAY",function(t,n){t.productsNum++,t.productsPay+=n}),m()(s,"DEL_PAY",function(t,n){0!=t.productsNum&&t.productsNum--,t.productsPay>0&&(t.productsPay-=n)}),m()(s,"ADD_PAYLIST",function(t,n){t.payList=n}),m()(s,"ADD_ORDERLIST",function(t){t.oldOrderId++;var n=y()(t.payList);t.oldOrderData[t.oldOrderId]=JSON.parse(n)}),m()(s,"DEL_CART",function(t){t.oldProList=[],t.productsNum=0,t.productsPay=0,t.payList=[]}),m()(s,"CHANGE_CLASSIFY_index",function(t,n){t.classifyIndex=n}),m()(s,"CHANGE_CLASSIFY_LIST",function(t,n){t.classifyList=n}),s)},L={state:{orderName:"安東生",orderPhone:"17666141150",orderAddress:"深圳市南山区龙珠四路"},mutations:(l={},m()(l,"SET_PRODUCT",function(t,n){t.activePro=n}),m()(l,void 0,function(t){t.orderName=[]}),l)};o.default.use(f.a);var D=new f.a.Store({modules:{common:v,cart:_,user:L}}),A=e("//Fk"),N=e.n(A),b=e("mtWM"),O=e.n(b).a.create();O.defaults.baseURL="http://mockapi.com",O.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",O.defaults.headers.post["X-Requested-With"]="XMLHttpRequest",O.interceptors.request.use(function(t){return D.commit("SET_LOADING",!0),t}),O.interceptors.response.use(function(t){return setTimeout(function(){D.commit("SET_LOADING",!1)},300),t},function(t){return D.commit("SET_LOADING",!1),error.response&&401==error.response.status&&(D.commit("CHANGE_TOKEN",0),alert("请重新登录"),p.replace({path:"login",query:{redirect:p.currentRoute.fullPath}})),N.a.reject(error)});var S=O,w=e("qAKc"),C=e("Au9i"),T=e.n(C);e("d8/S");o.default.use(T.a),p.beforeEach(function(t,n,e){t.meta.requiresAuth?Object(w.a)("user")?e():e({path:"/login"}):e()}),o.default.prototype.$http=S,new o.default({el:"#app",router:p,store:D,render:function(t){return t(c)}})},"Vqh/":function(t,n){},"d8/S":function(t,n){},qAKc:function(t,n,e){"use strict";e.d(n,"b",function(){return r}),e.d(n,"a",function(){return i});var o=e("mvHQ"),a=e.n(o),r=function(t,n){t&&("string"!=typeof n&&(n=a()(n)),window.localStorage.setItem(t,n))},i=function(t){if(t)return window.localStorage.getItem(t)}},uJ5k:function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.45be589444aca57c3fc3.js.map